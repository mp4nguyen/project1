"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require('angular2/core');
var header_1 = require('../common/header');
var domhandler_1 = require('../dom/domhandler');
var common_1 = require('angular2/common');
var EDITOR_VALUE_ACCESSOR = new core_1.Provider(common_1.NG_VALUE_ACCESSOR, {
    useExisting: core_1.forwardRef(function () { return Editor; }),
    multi: true
});
var Editor = (function () {
    function Editor(el, domHandler) {
        this.el = el;
        this.domHandler = domHandler;
        this.onTextChange = new core_1.EventEmitter();
        this.onModelChange = function () { };
        this.onModelTouched = function () { };
    }
    Editor.prototype.ngAfterViewInit = function () {
        var _this = this;
        var editorElement = this.domHandler.findSingle(this.el.nativeElement, 'div.ui-editor-content');
        var toolbarElement = this.domHandler.findSingle(this.el.nativeElement, 'div.ui-editor-toolbar');
        this.quill = new Quill(editorElement, {
            modules: {
                toolbar: toolbarElement,
                'image-tooltip': true,
                'link-tooltip': true
            },
            theme: 'snow'
        });
        this.quill.on('text-change', function (delta, source) {
            _this.selfChange = true;
            var htmlValue = _this.quill.getHTML();
            if (htmlValue == '<div><br></div>') {
                htmlValue = null;
            }
            _this.onTextChange.emit({
                htmlValue: htmlValue,
                textValue: _this.quill.getText(),
                delta: delta,
                source: source
            });
            _this.onModelChange(htmlValue);
        });
        if (this.value) {
            this.quill.setHTML(this.value);
        }
    };
    Editor.prototype.writeValue = function (value) {
        this.value = value;
    };
    Editor.prototype.registerOnChange = function (fn) {
        this.onModelChange = fn;
    };
    Editor.prototype.registerOnTouched = function (fn) {
        this.onModelTouched = fn;
    };
    Editor.prototype.ngOnChanges = function (changes) {
        if (this.quill) {
            for (var key in changes) {
                if (key == 'value') {
                    if (this.selfChange) {
                        this.selfChange = false;
                        continue;
                    }
                    else {
                        var val = changes[key].currentValue;
                        if (val)
                            this.quill.setHTML(val);
                        else
                            this.quill.setText('');
                    }
                }
            }
        }
    };
    Editor.prototype.ngOnDestroy = function () {
        if (this.quill) {
            this.quill.destroy();
        }
    };
    __decorate([
        core_1.Output(), 
        __metadata('design:type', core_1.EventEmitter)
    ], Editor.prototype, "onTextChange", void 0);
    __decorate([
        core_1.ContentChild(header_1.Header), 
        __metadata('design:type', Object)
    ], Editor.prototype, "toolbar", void 0);
    __decorate([
        core_1.Input(), 
        __metadata('design:type', Object)
    ], Editor.prototype, "style", void 0);
    __decorate([
        core_1.Input(), 
        __metadata('design:type', String)
    ], Editor.prototype, "styleClass", void 0);
    Editor = __decorate([
        core_1.Component({
            selector: 'p-editor',
            template: "\n        <div [ngClass]=\"'ui-widget ui-editor-container ui-widget-content ui-corner-all'\" [ngStyle]=\"style\" [class]=\"styleClass\">\n            <div class=\"ui-editor-toolbar ui-widget-header ui-corner-top\" *ngIf=\"toolbar\">\n                <ng-content select=\"header\"></ng-content>\n            </div>\n            <div class=\"ui-editor-toolbar ui-widget-header ui-corner-top\" *ngIf=\"!toolbar\">\n            <span class=\"ql-format-group\">\n                <select title=\"Font\" class=\"ql-font\">\n                    <option value=\"sans-serif\" selected=\"\">Sans Serif</option>\n                    <option value=\"serif\">Serif</option>\n                    <option value=\"monospace\">Monospace</option>\n                </select>\n                <select title=\"Size\" class=\"ql-size\">\n                    <option value=\"10px\">Small</option>\n                    <option value=\"13px\" selected=\"\">Normal</option>\n                    <option value=\"18px\">Large</option>\n                    <option value=\"32px\">Huge</option>\n                </select>\n                </span>\n                <span class=\"ql-format-group\">\n                    <span title=\"Bold\" class=\"ql-format-button ql-bold\"></span>\n                    <span class=\"ql-format-separator\"></span>\n                    <span title=\"Italic\" class=\"ql-format-button ql-italic\"></span>\n                    <span class=\"ql-format-separator\"></span>\n                    <span title=\"Underline\" class=\"ql-format-button ql-underline\"></span>\n                    <span class=\"ql-format-separator\"></span>\n                    <span title=\"Strikethrough\" class=\"ql-format-button ql-strike\"></span>\n                </span>\n                <span class=\"ql-format-group\">\n                    <select title=\"Text Color\" class=\"ql-color\">\n                        <option value=\"rgb(0, 0, 0)\" label=\"rgb(0, 0, 0)\" selected=\"\"></option>\n                        <option value=\"rgb(230, 0, 0)\" label=\"rgb(230, 0, 0)\"></option>\n                        <option value=\"rgb(255, 153, 0)\" label=\"rgb(255, 153, 0)\"></option>\n                        <option value=\"rgb(255, 255, 0)\" label=\"rgb(255, 255, 0)\"></option>\n                        <option value=\"rgb(0, 138, 0)\" label=\"rgb(0, 138, 0)\"></option>\n                        <option value=\"rgb(0, 102, 204)\" label=\"rgb(0, 102, 204)\"></option>\n                        <option value=\"rgb(153, 51, 255)\" label=\"rgb(153, 51, 255)\"></option>\n                        <option value=\"rgb(255, 255, 255)\" label=\"rgb(255, 255, 255)\"></option>\n                        <option value=\"rgb(250, 204, 204)\" label=\"rgb(250, 204, 204)\"></option>\n                        <option value=\"rgb(255, 235, 204)\" label=\"rgb(255, 235, 204)\"></option>\n                        <option value=\"rgb(255, 255, 204)\" label=\"rgb(255, 255, 204)\"></option>\n                        <option value=\"rgb(204, 232, 204)\" label=\"rgb(204, 232, 204)\"></option>\n                        <option value=\"rgb(204, 224, 245)\" label=\"rgb(204, 224, 245)\"></option>\n                        <option value=\"rgb(235, 214, 255)\" label=\"rgb(235, 214, 255)\"></option>\n                        <option value=\"rgb(187, 187, 187)\" label=\"rgb(187, 187, 187)\"></option>\n                        <option value=\"rgb(240, 102, 102)\" label=\"rgb(240, 102, 102)\"></option>\n                        <option value=\"rgb(255, 194, 102)\" label=\"rgb(255, 194, 102)\"></option>\n                        <option value=\"rgb(255, 255, 102)\" label=\"rgb(255, 255, 102)\"></option>\n                        <option value=\"rgb(102, 185, 102)\" label=\"rgb(102, 185, 102)\"></option>\n                        <option value=\"rgb(102, 163, 224)\" label=\"rgb(102, 163, 224)\"></option>\n                        <option value=\"rgb(194, 133, 255)\" label=\"rgb(194, 133, 255)\"></option>\n                        <option value=\"rgb(136, 136, 136)\" label=\"rgb(136, 136, 136)\"></option>\n                        <option value=\"rgb(161, 0, 0)\" label=\"rgb(161, 0, 0)\"></option>\n                        <option value=\"rgb(178, 107, 0)\" label=\"rgb(178, 107, 0)\"></option>\n                        <option value=\"rgb(178, 178, 0)\" label=\"rgb(178, 178, 0)\"></option>\n                        <option value=\"rgb(0, 97, 0)\" label=\"rgb(0, 97, 0)\"></option>\n                        <option value=\"rgb(0, 71, 178)\" label=\"rgb(0, 71, 178)\"></option>\n                        <option value=\"rgb(107, 36, 178)\" label=\"rgb(107, 36, 178)\"></option>\n                        <option value=\"rgb(68, 68, 68)\" label=\"rgb(68, 68, 68)\"></option>\n                        <option value=\"rgb(92, 0, 0)\" label=\"rgb(92, 0, 0)\"></option>\n                        <option value=\"rgb(102, 61, 0)\" label=\"rgb(102, 61, 0)\"></option>\n                        <option value=\"rgb(102, 102, 0)\" label=\"rgb(102, 102, 0)\"></option>\n                        <option value=\"rgb(0, 55, 0)\" label=\"rgb(0, 55, 0)\"></option>\n                        <option value=\"rgb(0, 41, 102)\" label=\"rgb(0, 41, 102)\"></option>\n                        <option value=\"rgb(61, 20, 102)\" label=\"rgb(61, 20, 102)\"></option>\n                    </select>\n                    <span class=\"ql-format-separator\"></span>\n                    <select title=\"Background Color\" class=\"ql-background\">\n                        <option value=\"rgb(0, 0, 0)\" label=\"rgb(0, 0, 0)\"></option>\n                        <option value=\"rgb(230, 0, 0)\" label=\"rgb(230, 0, 0)\"></option>\n                        <option value=\"rgb(255, 153, 0)\" label=\"rgb(255, 153, 0)\"></option>\n                        <option value=\"rgb(255, 255, 0)\" label=\"rgb(255, 255, 0)\"></option>\n                        <option value=\"rgb(0, 138, 0)\" label=\"rgb(0, 138, 0)\"></option>\n                        <option value=\"rgb(0, 102, 204)\" label=\"rgb(0, 102, 204)\"></option>\n                        <option value=\"rgb(153, 51, 255)\" label=\"rgb(153, 51, 255)\"></option>\n                        <option value=\"rgb(255, 255, 255)\" label=\"rgb(255, 255, 255)\" selected=\"\"></option>\n                        <option value=\"rgb(250, 204, 204)\" label=\"rgb(250, 204, 204)\"></option>\n                        <option value=\"rgb(255, 235, 204)\" label=\"rgb(255, 235, 204)\"></option>\n                        <option value=\"rgb(255, 255, 204)\" label=\"rgb(255, 255, 204)\"></option>\n                        <option value=\"rgb(204, 232, 204)\" label=\"rgb(204, 232, 204)\"></option>\n                        <option value=\"rgb(204, 224, 245)\" label=\"rgb(204, 224, 245)\"></option>\n                        <option value=\"rgb(235, 214, 255)\" label=\"rgb(235, 214, 255)\"></option>\n                        <option value=\"rgb(187, 187, 187)\" label=\"rgb(187, 187, 187)\"></option>\n                        <option value=\"rgb(240, 102, 102)\" label=\"rgb(240, 102, 102)\"></option>\n                        <option value=\"rgb(255, 194, 102)\" label=\"rgb(255, 194, 102)\"></option>\n                        <option value=\"rgb(255, 255, 102)\" label=\"rgb(255, 255, 102)\"></option>\n                        <option value=\"rgb(102, 185, 102)\" label=\"rgb(102, 185, 102)\"></option>\n                        <option value=\"rgb(102, 163, 224)\" label=\"rgb(102, 163, 224)\"></option>\n                        <option value=\"rgb(194, 133, 255)\" label=\"rgb(194, 133, 255)\"></option>\n                        <option value=\"rgb(136, 136, 136)\" label=\"rgb(136, 136, 136)\"></option>\n                        <option value=\"rgb(161, 0, 0)\" label=\"rgb(161, 0, 0)\"></option>\n                        <option value=\"rgb(178, 107, 0)\" label=\"rgb(178, 107, 0)\"></option>\n                        <option value=\"rgb(178, 178, 0)\" label=\"rgb(178, 178, 0)\"></option>\n                        <option value=\"rgb(0, 97, 0)\" label=\"rgb(0, 97, 0)\"></option>\n                        <option value=\"rgb(0, 71, 178)\" label=\"rgb(0, 71, 178)\"></option>\n                        <option value=\"rgb(107, 36, 178)\" label=\"rgb(107, 36, 178)\"></option>\n                        <option value=\"rgb(68, 68, 68)\" label=\"rgb(68, 68, 68)\"></option>\n                        <option value=\"rgb(92, 0, 0)\" label=\"rgb(92, 0, 0)\"></option>\n                        <option value=\"rgb(102, 61, 0)\" label=\"rgb(102, 61, 0)\"></option>\n                        <option value=\"rgb(102, 102, 0)\" label=\"rgb(102, 102, 0)\"></option>\n                        <option value=\"rgb(0, 55, 0)\" label=\"rgb(0, 55, 0)\"></option>\n                        <option value=\"rgb(0, 41, 102)\" label=\"rgb(0, 41, 102)\"></option>\n                        <option value=\"rgb(61, 20, 102)\" label=\"rgb(61, 20, 102)\"></option>\n                    </select>\n                </span>\n                <span class=\"ql-format-group\">\n                    <span title=\"List\" class=\"ql-format-button ql-list\"></span>\n                    <span class=\"ql-format-separator\"></span>\n                    <span title=\"Bullet\" class=\"ql-format-button ql-bullet\"></span>\n                    <span class=\"ql-format-separator\"></span>\n                    <select title=\"Text Alignment\" class=\"ql-align\">\n                        <option value=\"left\" label=\"Left\" selected=\"\"></option>\n                        <option value=\"center\" label=\"Center\"></option>\n                        <option value=\"right\" label=\"Right\"></option>\n                        <option value=\"justify\" label=\"Justify\"></option>\n                        </select>\n                </span>\n                <span class=\"ql-format-group\">\n                    <span title=\"Link\" class=\"ql-format-button ql-link\"></span>\n                </span>\n                <span class=\"ql-format-separator\"></span>\n                <span title=\"Image\" class=\"ql-format-button ql-image\"></span>\n            </div>\n            <div class=\"ui-editor-content\" [innerHTML]=\"value||''\"></div>\n        </div>\n    ",
            directives: [header_1.Header],
            providers: [domhandler_1.DomHandler, EDITOR_VALUE_ACCESSOR]
        }), 
        __metadata('design:paramtypes', [core_1.ElementRef, domhandler_1.DomHandler])
    ], Editor);
    return Editor;
}());
exports.Editor = Editor;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNoYXJlZC9wcmltZW5nL2NvbXBvbmVudHMvZWRpdG9yL2VkaXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEscUJBQTZJLGVBQWUsQ0FBQyxDQUFBO0FBQzdKLHVCQUFxQixrQkFDckIsQ0FBQyxDQURzQztBQUN2QywyQkFBeUIsbUJBQW1CLENBQUMsQ0FBQTtBQUM3Qyx1QkFBc0QsaUJBQWlCLENBQUMsQ0FBQTtBQUl4RSxJQUFNLHFCQUFxQixHQUFhLElBQUksZUFBUSxDQUFDLDBCQUFpQixFQUFFO0lBQ3BFLFdBQVcsRUFBRSxpQkFBVSxDQUFDLGNBQU0sT0FBQSxNQUFNLEVBQU4sQ0FBTSxDQUFDO0lBQ3JDLEtBQUssRUFBRSxJQUFJO0NBQ2QsQ0FBQyxDQUFDO0FBcUlIO0lBb0JJLGdCQUFvQixFQUFjLEVBQVUsVUFBc0I7UUFBOUMsT0FBRSxHQUFGLEVBQUUsQ0FBWTtRQUFVLGVBQVUsR0FBVixVQUFVLENBQVk7UUFsQnhELGlCQUFZLEdBQXNCLElBQUksbUJBQVksRUFBRSxDQUFDO1FBVS9ELGtCQUFhLEdBQWEsY0FBTyxDQUFDLENBQUM7UUFFbkMsbUJBQWMsR0FBYSxjQUFPLENBQUMsQ0FBQztJQU1pQyxDQUFDO0lBRXRFLGdDQUFlLEdBQWY7UUFBQSxpQkFpQ0M7UUFoQ0csSUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxhQUFhLEVBQUUsdUJBQXVCLENBQUMsQ0FBQztRQUMvRixJQUFJLGNBQWMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO1FBRWhHLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsYUFBYSxFQUFFO1lBQ3BDLE9BQU8sRUFBRTtnQkFDTCxPQUFPLEVBQUUsY0FBYztnQkFDdkIsZUFBZSxFQUFFLElBQUk7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QUMsZUFBTSxDQUFDO1lBQ3BCLFNBQVMsRUFBRSxDQUFDLHVCQUFVLEVBQUMscUJBQXFCLENBQUM7U0FDaEQsQ0FBQzs7Y0FBQTtJQStGRixhQUFDO0FBQUQsQ0E5RkEsQUE4RkMsSUFBQTtBQTlGWSxjQUFNLFNBOEZsQixDQUFBIiwiZmlsZSI6InNoYXJlZC9wcmltZW5nL2NvbXBvbmVudHMvZWRpdG9yL2VkaXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tcG9uZW50LEVsZW1lbnRSZWYsQWZ0ZXJWaWV3SW5pdCxPbkRlc3Ryb3ksSW5wdXQsT3V0cHV0LEV2ZW50RW1pdHRlcixDb250ZW50Q2hpbGQsT25DaGFuZ2VzLFNpbXBsZUNoYW5nZSxmb3J3YXJkUmVmLFByb3ZpZGVyfSBmcm9tICdhbmd1bGFyMi9jb3JlJztcbmltcG9ydCB7SGVhZGVyfSBmcm9tICcuLi9jb21tb24vaGVhZGVyJ1xuaW1wb3J0IHtEb21IYW5kbGVyfSBmcm9tICcuLi9kb20vZG9taGFuZGxlcic7XG5pbXBvcnQge05HX1ZBTFVFX0FDQ0VTU09SLCBDb250cm9sVmFsdWVBY2Nlc3Nvcn0gZnJvbSAnYW5ndWxhcjIvY29tbW9uJztcblxuZGVjbGFyZSB2YXIgUXVpbGw6IGFueTtcblxuY29uc3QgRURJVE9SX1ZBTFVFX0FDQ0VTU09SOiBQcm92aWRlciA9IG5ldyBQcm92aWRlcihOR19WQUxVRV9BQ0NFU1NPUiwge1xuICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IEVkaXRvciksXG4gICAgbXVsdGk6IHRydWVcbn0pO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ3AtZWRpdG9yJyxcbiAgICB0ZW1wbGF0ZTogYFxuICAgICAgICA8ZGl2IFtuZ0NsYXNzXT1cIid1aS13aWRnZXQgdWktZWRpdG9yLWNvbnRhaW5lciB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsJ1wiIFtuZ1N0eWxlXT1cInN0eWxlXCIgW2NsYXNzXT1cInN0eWxlQ2xhc3NcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1aS1lZGl0b3ItdG9vbGJhciB1aS13aWRnZXQtaGVhZGVyIHVpLWNvcm5lci10b3BcIiAqbmdJZj1cInRvb2xiYXJcIj5cbiAgICAgICAgICAgICAgICA8bmctY29udGVudCBzZWxlY3Q9XCJoZWFkZXJcIj48L25nLWNvbnRlbnQ+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1aS1lZGl0b3ItdG9vbGJhciB1aS13aWRnZXQtaGVhZGVyIHVpLWNvcm5lci10b3BcIiAqbmdJZj1cIiF0b29sYmFyXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInFsLWZvcm1hdC1ncm91cFwiPlxuICAgICAgICAgICAgICAgIDxzZWxlY3QgdGl0bGU9XCJGb250XCIgY2xhc3M9XCJxbC1mb250XCI+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJzYW5zLXNlcmlmXCIgc2VsZWN0ZWQ9XCJcIj5TYW5zIFNlcmlmPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJzZXJpZlwiPlNlcmlmPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJtb25vc3BhY2VcIj5Nb25vc3BhY2U8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICA8c2VsZWN0IHRpdGxlPVwiU2l6ZVwiIGNsYXNzPVwicWwtc2l6ZVwiPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiMTBweFwiPlNtYWxsPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIxM3B4XCIgc2VsZWN0ZWQ9XCJcIj5Ob3JtYWw8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjE4cHhcIj5MYXJnZTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiMzJweFwiPkh1Z2U8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJxbC1mb3JtYXQtZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gdGl0bGU9XCJCb2xkXCIgY2xhc3M9XCJxbC1mb3JtYXQtYnV0dG9uIHFsLWJvbGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicWwtZm9ybWF0LXNlcGFyYXRvclwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gdGl0bGU9XCJJdGFsaWNcIiBjbGFzcz1cInFsLWZvcm1hdC1idXR0b24gcWwtaXRhbGljXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInFsLWZvcm1hdC1zZXBhcmF0b3JcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHRpdGxlPVwiVW5kZXJsaW5lXCIgY2xhc3M9XCJxbC1mb3JtYXQtYnV0dG9uIHFsLXVuZGVybGluZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJxbC1mb3JtYXQtc2VwYXJhdG9yXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiB0aXRsZT1cIlN0cmlrZXRocm91Z2hcIiBjbGFzcz1cInFsLWZvcm1hdC1idXR0b24gcWwtc3RyaWtlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInFsLWZvcm1hdC1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IHRpdGxlPVwiVGV4dCBDb2xvclwiIGNsYXNzPVwicWwtY29sb3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMCwgMCwgMClcIiBsYWJlbD1cInJnYigwLCAwLCAwKVwiIHNlbGVjdGVkPVwiXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDIzMCwgMCwgMClcIiBsYWJlbD1cInJnYigyMzAsIDAsIDApXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDI1NSwgMTUzLCAwKVwiIGxhYmVsPVwicmdiKDI1NSwgMTUzLCAwKVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJnYigyNTUsIDI1NSwgMClcIiBsYWJlbD1cInJnYigyNTUsIDI1NSwgMClcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMCwgMTM4LCAwKVwiIGxhYmVsPVwicmdiKDAsIDEzOCwgMClcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMCwgMTAyLCAyMDQpXCIgbGFiZWw9XCJyZ2IoMCwgMTAyLCAyMDQpXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDE1MywgNTEsIDI1NSlcIiBsYWJlbD1cInJnYigxNTMsIDUxLCAyNTUpXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDI1NSwgMjU1LCAyNTUpXCIgbGFiZWw9XCJyZ2IoMjU1LCAyNTUsIDI1NSlcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMjUwLCAyMDQsIDIwNClcIiBsYWJlbD1cInJnYigyNTAsIDIwNCwgMjA0KVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJnYigyNTUsIDIzNSwgMjA0KVwiIGxhYmVsPVwicmdiKDI1NSwgMjM1LCAyMDQpXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDI1NSwgMjU1LCAyMDQpXCIgbGFiZWw9XCJyZ2IoMjU1LCAyNTUsIDIwNClcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMjA0LCAyMzIsIDIwNClcIiBsYWJlbD1cInJnYigyMDQsIDIzMiwgMjA0KVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJnYigyMDQsIDIyNCwgMjQ1KVwiIGxhYmVsPVwicmdiKDIwNCwgMjI0LCAyNDUpXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDIzNSwgMjE0LCAyNTUpXCIgbGFiZWw9XCJyZ2IoMjM1LCAyMTQsIDI1NSlcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMTg3LCAxODcsIDE4NylcIiBsYWJlbD1cInJnYigxODcsIDE4NywgMTg3KVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJnYigyNDAsIDEwMiwgMTAyKVwiIGxhYmVsPVwicmdiKDI0MCwgMTAyLCAxMDIpXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDI1NSwgMTk0LCAxMDIpXCIgbGFiZWw9XCJyZ2IoMjU1LCAxOTQsIDEwMilcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMjU1LCAyNTUsIDEwMilcIiBsYWJlbD1cInJnYigyNTUsIDI1NSwgMTAyKVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJnYigxMDIsIDE4NSwgMTAyKVwiIGxhYmVsPVwicmdiKDEwMiwgMTg1LCAxMDIpXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDEwMiwgMTYzLCAyMjQpXCIgbGFiZWw9XCJyZ2IoMTAyLCAxNjMsIDIyNClcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMTk0LCAxMzMsIDI1NSlcIiBsYWJlbD1cInJnYigxOTQsIDEzMywgMjU1KVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJnYigxMzYsIDEzNiwgMTM2KVwiIGxhYmVsPVwicmdiKDEzNiwgMTM2LCAxMzYpXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDE2MSwgMCwgMClcIiBsYWJlbD1cInJnYigxNjEsIDAsIDApXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDE3OCwgMTA3LCAwKVwiIGxhYmVsPVwicmdiKDE3OCwgMTA3LCAwKVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJnYigxNzgsIDE3OCwgMClcIiBsYWJlbD1cInJnYigxNzgsIDE3OCwgMClcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMCwgOTcsIDApXCIgbGFiZWw9XCJyZ2IoMCwgOTcsIDApXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDAsIDcxLCAxNzgpXCIgbGFiZWw9XCJyZ2IoMCwgNzEsIDE3OClcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMTA3LCAzNiwgMTc4KVwiIGxhYmVsPVwicmdiKDEwNywgMzYsIDE3OClcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoNjgsIDY4LCA2OClcIiBsYWJlbD1cInJnYig2OCwgNjgsIDY4KVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJnYig5MiwgMCwgMClcIiBsYWJlbD1cInJnYig5MiwgMCwgMClcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMTAyLCA2MSwgMClcIiBsYWJlbD1cInJnYigxMDIsIDYxLCAwKVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJnYigxMDIsIDEwMiwgMClcIiBsYWJlbD1cInJnYigxMDIsIDEwMiwgMClcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMCwgNTUsIDApXCIgbGFiZWw9XCJyZ2IoMCwgNTUsIDApXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDAsIDQxLCAxMDIpXCIgbGFiZWw9XCJyZ2IoMCwgNDEsIDEwMilcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoNjEsIDIwLCAxMDIpXCIgbGFiZWw9XCJyZ2IoNjEsIDIwLCAxMDIpXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInFsLWZvcm1hdC1zZXBhcmF0b3JcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgdGl0bGU9XCJCYWNrZ3JvdW5kIENvbG9yXCIgY2xhc3M9XCJxbC1iYWNrZ3JvdW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDAsIDAsIDApXCIgbGFiZWw9XCJyZ2IoMCwgMCwgMClcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMjMwLCAwLCAwKVwiIGxhYmVsPVwicmdiKDIzMCwgMCwgMClcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMjU1LCAxNTMsIDApXCIgbGFiZWw9XCJyZ2IoMjU1LCAxNTMsIDApXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDI1NSwgMjU1LCAwKVwiIGxhYmVsPVwicmdiKDI1NSwgMjU1LCAwKVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJnYigwLCAxMzgsIDApXCIgbGFiZWw9XCJyZ2IoMCwgMTM4LCAwKVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJnYigwLCAxMDIsIDIwNClcIiBsYWJlbD1cInJnYigwLCAxMDIsIDIwNClcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMTUzLCA1MSwgMjU1KVwiIGxhYmVsPVwicmdiKDE1MywgNTEsIDI1NSlcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMjU1LCAyNTUsIDI1NSlcIiBsYWJlbD1cInJnYigyNTUsIDI1NSwgMjU1KVwiIHNlbGVjdGVkPVwiXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDI1MCwgMjA0LCAyMDQpXCIgbGFiZWw9XCJyZ2IoMjUwLCAyMDQsIDIwNClcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMjU1LCAyMzUsIDIwNClcIiBsYWJlbD1cInJnYigyNTUsIDIzNSwgMjA0KVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJnYigyNTUsIDI1NSwgMjA0KVwiIGxhYmVsPVwicmdiKDI1NSwgMjU1LCAyMDQpXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDIwNCwgMjMyLCAyMDQpXCIgbGFiZWw9XCJyZ2IoMjA0LCAyMzIsIDIwNClcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMjA0LCAyMjQsIDI0NSlcIiBsYWJlbD1cInJnYigyMDQsIDIyNCwgMjQ1KVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJnYigyMzUsIDIxNCwgMjU1KVwiIGxhYmVsPVwicmdiKDIzNSwgMjE0LCAyNTUpXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDE4NywgMTg3LCAxODcpXCIgbGFiZWw9XCJyZ2IoMTg3LCAxODcsIDE4NylcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMjQwLCAxMDIsIDEwMilcIiBsYWJlbD1cInJnYigyNDAsIDEwMiwgMTAyKVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJnYigyNTUsIDE5NCwgMTAyKVwiIGxhYmVsPVwicmdiKDI1NSwgMTk0LCAxMDIpXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDI1NSwgMjU1LCAxMDIpXCIgbGFiZWw9XCJyZ2IoMjU1LCAyNTUsIDEwMilcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMTAyLCAxODUsIDEwMilcIiBsYWJlbD1cInJnYigxMDIsIDE4NSwgMTAyKVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJnYigxMDIsIDE2MywgMjI0KVwiIGxhYmVsPVwicmdiKDEwMiwgMTYzLCAyMjQpXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDE5NCwgMTMzLCAyNTUpXCIgbGFiZWw9XCJyZ2IoMTk0LCAxMzMsIDI1NSlcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMTM2LCAxMzYsIDEzNilcIiBsYWJlbD1cInJnYigxMzYsIDEzNiwgMTM2KVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJnYigxNjEsIDAsIDApXCIgbGFiZWw9XCJyZ2IoMTYxLCAwLCAwKVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJnYigxNzgsIDEwNywgMClcIiBsYWJlbD1cInJnYigxNzgsIDEwNywgMClcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMTc4LCAxNzgsIDApXCIgbGFiZWw9XCJyZ2IoMTc4LCAxNzgsIDApXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDAsIDk3LCAwKVwiIGxhYmVsPVwicmdiKDAsIDk3LCAwKVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJnYigwLCA3MSwgMTc4KVwiIGxhYmVsPVwicmdiKDAsIDcxLCAxNzgpXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDEwNywgMzYsIDE3OClcIiBsYWJlbD1cInJnYigxMDcsIDM2LCAxNzgpXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDY4LCA2OCwgNjgpXCIgbGFiZWw9XCJyZ2IoNjgsIDY4LCA2OClcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoOTIsIDAsIDApXCIgbGFiZWw9XCJyZ2IoOTIsIDAsIDApXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDEwMiwgNjEsIDApXCIgbGFiZWw9XCJyZ2IoMTAyLCA2MSwgMClcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZ2IoMTAyLCAxMDIsIDApXCIgbGFiZWw9XCJyZ2IoMTAyLCAxMDIsIDApXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDAsIDU1LCAwKVwiIGxhYmVsPVwicmdiKDAsIDU1LCAwKVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJnYigwLCA0MSwgMTAyKVwiIGxhYmVsPVwicmdiKDAsIDQxLCAxMDIpXCI+PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmdiKDYxLCAyMCwgMTAyKVwiIGxhYmVsPVwicmdiKDYxLCAyMCwgMTAyKVwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJxbC1mb3JtYXQtZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gdGl0bGU9XCJMaXN0XCIgY2xhc3M9XCJxbC1mb3JtYXQtYnV0dG9uIHFsLWxpc3RcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicWwtZm9ybWF0LXNlcGFyYXRvclwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gdGl0bGU9XCJCdWxsZXRcIiBjbGFzcz1cInFsLWZvcm1hdC1idXR0b24gcWwtYnVsbGV0XCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInFsLWZvcm1hdC1zZXBhcmF0b3JcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgdGl0bGU9XCJUZXh0IEFsaWdubWVudFwiIGNsYXNzPVwicWwtYWxpZ25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJsZWZ0XCIgbGFiZWw9XCJMZWZ0XCIgc2VsZWN0ZWQ9XCJcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJjZW50ZXJcIiBsYWJlbD1cIkNlbnRlclwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJpZ2h0XCIgbGFiZWw9XCJSaWdodFwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImp1c3RpZnlcIiBsYWJlbD1cIkp1c3RpZnlcIj48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInFsLWZvcm1hdC1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiB0aXRsZT1cIkxpbmtcIiBjbGFzcz1cInFsLWZvcm1hdC1idXR0b24gcWwtbGlua1wiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJxbC1mb3JtYXQtc2VwYXJhdG9yXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIHRpdGxlPVwiSW1hZ2VcIiBjbGFzcz1cInFsLWZvcm1hdC1idXR0b24gcWwtaW1hZ2VcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1aS1lZGl0b3ItY29udGVudFwiIFtpbm5lckhUTUxdPVwidmFsdWV8fCcnXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIGAsXG4gICAgZGlyZWN0aXZlczogW0hlYWRlcl0sXG4gICAgcHJvdmlkZXJzOiBbRG9tSGFuZGxlcixFRElUT1JfVkFMVUVfQUNDRVNTT1JdXG59KVxuZXhwb3J0IGNsYXNzIEVkaXRvciBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQsT25EZXN0cm95LENvbnRyb2xWYWx1ZUFjY2Vzc29yIHtcbiAgICAgICAgXG4gICAgQE91dHB1dCgpIG9uVGV4dENoYW5nZTogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgXG4gICAgQENvbnRlbnRDaGlsZChIZWFkZXIpIHRvb2xiYXI7XG4gICAgXG4gICAgQElucHV0KCkgc3R5bGU6IGFueTtcbiAgICAgICAgXG4gICAgQElucHV0KCkgc3R5bGVDbGFzczogc3RyaW5nO1xuICAgIFxuICAgIHZhbHVlOiBzdHJpbmc7XG4gICAgXG4gICAgb25Nb2RlbENoYW5nZTogRnVuY3Rpb24gPSAoKSA9PiB7fTtcbiAgICBcbiAgICBvbk1vZGVsVG91Y2hlZDogRnVuY3Rpb24gPSAoKSA9PiB7fTtcbiAgICBcbiAgICBzZWxmQ2hhbmdlOiBib29sZWFuO1xuXG4gICAgcXVpbGw6IGFueTtcbiAgICBcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsOiBFbGVtZW50UmVmLCBwcml2YXRlIGRvbUhhbmRsZXI6IERvbUhhbmRsZXIpIHt9XG5cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIGxldCBlZGl0b3JFbGVtZW50ID0gdGhpcy5kb21IYW5kbGVyLmZpbmRTaW5nbGUodGhpcy5lbC5uYXRpdmVFbGVtZW50ICwnZGl2LnVpLWVkaXRvci1jb250ZW50Jyk7IFxuICAgICAgICBsZXQgdG9vbGJhckVsZW1lbnQgPSB0aGlzLmRvbUhhbmRsZXIuZmluZFNpbmdsZSh0aGlzLmVsLm5hdGl2ZUVsZW1lbnQgLCdkaXYudWktZWRpdG9yLXRvb2xiYXInKTsgXG4gICAgICAgIFxuICAgICAgICB0aGlzLnF1aWxsID0gbmV3IFF1aWxsKGVkaXRvckVsZW1lbnQsIHtcbiAgICAgICAgICBtb2R1bGVzOiB7XG4gICAgICAgICAgICAgIHRvb2xiYXI6IHRvb2xiYXJFbGVtZW50LFxuICAgICAgICAgICAgICAnaW1hZ2UtdG9vbHRpcCc6IHRydWUsXG4gICAgICAgICAgICAgICdsaW5rLXRvb2x0aXAnOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aGVtZTogJ3Nub3cnXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5xdWlsbC5vbigndGV4dC1jaGFuZ2UnLCAoZGVsdGEsIHNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZWxmQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBodG1sVmFsdWUgPSB0aGlzLnF1aWxsLmdldEhUTUwoKTtcbiAgICAgICAgICAgIGlmKGh0bWxWYWx1ZSA9PSAnPGRpdj48YnI+PC9kaXY+Jykge1xuICAgICAgICAgICAgICAgIGh0bWxWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMub25UZXh0Q2hhbmdlLmVtaXQoe1xuICAgICAgICAgICAgICAgIGh0bWxWYWx1ZTogaHRtbFZhbHVlLFxuICAgICAgICAgICAgICAgIHRleHRWYWx1ZTogdGhpcy5xdWlsbC5nZXRUZXh0KCksXG4gICAgICAgICAgICAgICAgZGVsdGE6IGRlbHRhLFxuICAgICAgICAgICAgICAgIHNvdXJjZTogc291cmNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5vbk1vZGVsQ2hhbmdlKGh0bWxWYWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYodGhpcy52YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5xdWlsbC5zZXRIVE1MKHRoaXMudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgICAgICBcbiAgICB3cml0ZVZhbHVlKHZhbHVlOiBhbnkpIDogdm9pZCB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgXG4gICAgcmVnaXN0ZXJPbkNoYW5nZShmbjogRnVuY3Rpb24pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vbk1vZGVsQ2hhbmdlID0gZm47XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJPblRvdWNoZWQoZm46IEZ1bmN0aW9uKTogdm9pZCB7XG4gICAgICAgIHRoaXMub25Nb2RlbFRvdWNoZWQgPSBmbjtcbiAgICB9XG4gICAgXG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlczogeyBba2V5OiBzdHJpbmddOiBTaW1wbGVDaGFuZ2V9KSB7XG4gICAgICAgIGlmICh0aGlzLnF1aWxsKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gY2hhbmdlcykge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT0gJ3ZhbHVlJykge1xuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnNlbGZDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZkNoYW5nZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsID0gY2hhbmdlc1trZXldLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHZhbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnF1aWxsLnNldEhUTUwodmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnF1aWxsLnNldFRleHQoJycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9ICAgXG4gICAgfVxuICAgIFxuICAgIG5nT25EZXN0cm95KCnCoHtcbiAgICAgICAgaWYodGhpcy5xdWlsbCkge1xuICAgICAgICAgICAgdGhpcy5xdWlsbC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG59Il19
