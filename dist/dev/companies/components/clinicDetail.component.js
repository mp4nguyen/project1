"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require('angular2/core');
var common_1 = require('angular2/common');
var common_2 = require('angular2/common');
var companies_services_1 = require('../services/companies.services');
var logging_service_1 = require('../../shared/services/logging.service');
var input_component_1 = require('../../shared/components/input/input.component');
var address_component_1 = require('../../shared/components/address/address.component');
var tab_component_1 = require('../../shared/components/tab/tab.component');
var tabset_component_1 = require('../../shared/components/tab/tabset.component');
var bookingtypelist_component_1 = require('./bookingtypelist.component');
var doctorlist2_component_1 = require('./doctorlist2.component');
var selectbookingtypes_component_1 = require('./selectbookingtypes.component');
var selectdoctors_component_1 = require('./selectdoctors.component');
var ClinicDetailComponent = (function () {
    function ClinicDetailComponent(_companiesService, _log, _fb) {
        this._companiesService = _companiesService;
        this._log = _log;
        this._fb = _fb;
        this.isSubmitted = false;
        this.components = new Array();
        this.addressObject = {};
        this.wards = ['1', '2', '3', '4', 'abc'];
        this.clinicNameControl = new common_2.Control("", common_2.Validators.required);
        this.addressControl = new common_2.Control("", common_2.Validators.required);
        this.wardControl = new common_2.Control("", common_2.Validators.required);
        this.suburbDistrictControl = new common_2.Control("", common_2.Validators.required);
        this.stateProvinceControl = new common_2.Control("", common_2.Validators.required);
        this.countryControl = new common_2.Control("", common_2.Validators.required);
        this.descriptionControl = new common_2.Control("");
        this.isenableControl = new common_2.Control("");
        this.isbookableControl = new common_2.Control("");
        this.istelehealthControl = new common_2.Control("");
        this.iscalendarControl = new common_2.Control("");
        this.components.push({ control: this.clinicNameControl, type: 'text', title: 'Clinic Name', placeholder: 'Clinic Name', isRequired: true, requiredMsg: 'Clinic name is required', labelColumnClass: 'col-md-3 control-label', inputColumnClass: 'col-md-9' });
        this.components.push({ control: this.isenableControl, type: 'boolean', title: 'Enable', placeholder: 'Company Name', isRequired: false, requiredMsg: 'Company name is required !!!', labelColumnClass: 'col-md-3 control-label', inputColumnClass: 'col-md-9' });
        this.components.push({ control: this.isbookableControl, type: 'boolean', title: 'Book', placeholder: 'Company Name', isRequired: false, requiredMsg: 'Company name is required !!!', labelColumnClass: 'col-md-3 control-label', inputColumnClass: 'col-md-9' });
        this.components.push({ control: this.istelehealthControl, type: 'boolean', title: 'Telehealth', placeholder: 'Company Name', isRequired: false, requiredMsg: 'Company name is required !!!', labelColumnClass: 'col-md-3 control-label', inputColumnClass: 'col-md-9' });
        this.components.push({ control: this.iscalendarControl, type: 'boolean', title: 'Calendar', placeholder: 'Company Name', isRequired: false, requiredMsg: 'Company name is required !!!', labelColumnClass: 'col-md-3 control-label', inputColumnClass: 'col-md-9' });
        this.myForm = new common_2.ControlGroup({
            clinicName: this.clinicNameControl,
            address: this.addressControl,
            ward: this.wardControl,
            suburbDistrict: this.suburbDistrictControl,
            stateProvince: this.stateProvinceControl,
            country: this.countryControl,
            description: this.descriptionControl,
            isenable: this.isenableControl,
            isbookable: this.isbookableControl,
            istelehealth: this.istelehealthControl,
            iscalendar: this.iscalendarControl,
        });
    }
    ClinicDetailComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.setClinicData();
        this.myForm.valueChanges
            .subscribe(function (value) {
            _this._log.log("Model Driven Form : " + JSON.stringify(value));
        });
    };
    ClinicDetailComponent.prototype.addressControlGroup = function (addressControlGroup) {
        this.myForm.addControl('addressGroup', this._fb.group(addressControlGroup.controls));
    };
    ClinicDetailComponent.prototype.setClinicData = function () {
        this.clinic = this._companiesService.getCurrentClinic();
        this._log.log("Get data from clinic ", this.clinic);
        if (this.clinic) {
            this.clinicNameControl.updateValue(this.clinic.clinicName);
            this.addressControl.updateValue(this.clinic.address);
            this.wardControl.updateValue(this.clinic.ward);
            this.suburbDistrictControl.updateValue(this.clinic.suburbDistrict);
            this.stateProvinceControl.updateValue(this.clinic.stateProvince);
            this.countryControl.updateValue(this.clinic.country);
            this.isenableControl.updateValue(this.clinic.isenable);
            this.isbookableControl.updateValue(this.clinic.isbookable);
            this.istelehealthControl.updateValue(this.clinic.istelehealth);
            this.iscalendarControl.updateValue(this.clinic.iscalendar);
            this.addressObject.address = this.clinic.address;
            this.addressObject.ward = this.clinic.ward;
            this.addressObject.suburbDistrict = this.clinic.suburbDistrict;
            this.addressObject.stateProvince = this.clinic.stateProvince;
            this.addressObject.postcode = this.clinic.postcode;
            this.addressObject.country = this.clinic.country;
        }
    };
    ClinicDetailComponent.prototype.submit = function () {
        var _this = this;
        this.isSubmitted = true;
        this.wards.push('Added more');
        console.log('submiting...', this.myForm);
        this._companiesService.saveClinic(this.myForm.value).subscribe(function (data) { _this._log.log("form", data); _this.setClinicData(); }, function (err) { _this._log.log(err); }, function () { _this._log.log('created !'); });
    };
    ClinicDetailComponent.prototype.fireClinicRowClicked = function (row) {
        this._log.log('row = ', row);
        this.doctorDialog.openDialog(row);
    };
    ClinicDetailComponent.prototype.fireBTRowClicked = function (row) {
        this._log.log('row = ', row);
        this.btDialog.openDialog(row, 'CLINIC');
    };
    __decorate([
        core_1.ViewChild('btDialog'), 
        __metadata('design:type', selectbookingtypes_component_1.SelectBookingTypeComponent)
    ], ClinicDetailComponent.prototype, "btDialog", void 0);
    __decorate([
        core_1.ViewChild('doctorDialog'), 
        __metadata('design:type', selectdoctors_component_1.SelectDoctorComponent)
    ], ClinicDetailComponent.prototype, "doctorDialog", void 0);
    ClinicDetailComponent = __decorate([
        core_1.Component({
            selector: 'clinic-detail',
            templateUrl: './companies/components/clinicdetail.component.html',
            providers: [],
            directives: [common_1.FORM_DIRECTIVES, common_1.CORE_DIRECTIVES, input_component_1.InputComponent, address_component_1.AddressComponent, tab_component_1.TabComponent, tabset_component_1.TabsetComponent, bookingtypelist_component_1.BookingTypeListComponent, doctorlist2_component_1.DoctorListComponent, selectbookingtypes_component_1.SelectBookingTypeComponent, selectdoctors_component_1.SelectDoctorComponent]
        }), 
        __metadata('design:paramtypes', [companies_services_1.CompaniesService, logging_service_1.MyLogger, common_1.FormBuilder])
    ], ClinicDetailComponent);
    return ClinicDetailComponent;
}());
exports.ClinicDetailComponent = ClinicDetailComponent;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbmllcy9jb21wb25lbnRzL2NsaW5pY2RldGFpbC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLHFCQUF5QyxlQUFlLENBQUMsQ0FBQTtBQUN6RCx1QkFBMEUsaUJBQWlCLENBQUMsQ0FBQTtBQUM1Rix1QkFBOEQsaUJBQWlCLENBQUMsQ0FBQTtBQUdoRixtQ0FBK0IsZ0NBQy9CLENBQUMsQ0FEOEQ7QUFDL0QsZ0NBQXdCLHVDQUF1QyxDQUFDLENBQUE7QUFDaEUsZ0NBQThCLCtDQUErQyxDQUFDLENBQUE7QUFFOUUsa0NBQStCLG1EQUFtRCxDQUFDLENBQUE7QUFDbkYsOEJBQTJCLDJDQUEyQyxDQUFDLENBQUE7QUFDdkUsaUNBQThCLDhDQUE4QyxDQUFDLENBQUE7QUFDN0UsMENBQXVDLDZCQUE2QixDQUFDLENBQUE7QUFDckUsc0NBQWtDLHlCQUF5QixDQUFDLENBQUE7QUFDNUQsNkNBQXlDLGdDQUFnQyxDQUFDLENBQUE7QUFDMUUsd0NBQW9DLDJCQUEyQixDQUFDLENBQUE7QUFVaEU7SUEwQkUsK0JBQ2tCLGlCQUFtQyxFQUNuQyxJQUFjLEVBQ2QsR0FBZ0I7UUFGaEIsc0JBQWlCLEdBQWpCLGlCQUFpQixDQUFrQjtRQUNuQyxTQUFJLEdBQUosSUFBSSxDQUFVO1FBQ2QsUUFBRyxHQUFILEdBQUcsQ0FBYTtRQXZCM0IsZ0JBQVcsR0FBYSxLQUFLLENBQUM7UUFDOUIsZUFBVSxHQUFrQixJQUFJLEtBQUssRUFBVSxDQUFDO1FBZS9DLGtCQUFhLEdBQVcsRUFBRSxDQUFDO1FBRTNCLFVBQUssR0FBWSxDQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxLQUFLLENBQUMsQ0FBQztRQVEvQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxnQkFBTyxDQUFDLEVBQUUsRUFBRSxtQkFBVSxDQUFDLFFBQVEsQ0FBRSxDQUFDO1FBQy9ELElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxnQkFBTyxDQUFDLEVBQUUsRUFBRSxtQkFBVSxDQUFDLFFBQVEsQ0FBRSxDQUFDO1FBQzVELElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxnQkFBTyxDQUFDLEVBQUUsRUFBRSxtQkFBVSxDQUFDLFFBQVEsQ0FBRSxDQUFDO1FBQ3pELElBQUksQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLGdCQUFPLENBQUMsRUFBRSxFQUFFLG1CQUFVLENBQUMsUUFBUSxDQUFFLENBQUM7UUFDbkUsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksZ0JBQU8sQ0FBQyxFQUFFLEVBQUUsbUJBQVUsQ0FBQyxRQUFRLENBQUUsQ0FBQztRQUNsRSxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksZ0JBQU8sQ0FBQyxFQUFFLEVBQUUsbUJBQVUsQ0FBQyxRQUFRLENBQUUsQ0FBQztRQUM1RCxJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxnQkFBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxnQkFBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLGdCQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksZ0JBQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMzQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxnQkFBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRXpDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLEVBQUMsTUFBTSxFQUFDLEtBQUssRUFBRSxhQUFhLEVBQUUsV0FBVyxFQUFFLGFBQWEsRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFDLFdBQVcsRUFBRSx5QkFBeUIsRUFBQyxnQkFBZ0IsRUFBQyx3QkFBd0IsRUFBQyxnQkFBZ0IsRUFBQyxVQUFVLEVBQUMsQ0FBQyxDQUFDO1FBRXJQLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxFQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLFdBQVcsRUFBRSxjQUFjLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBQyxXQUFXLEVBQUUsOEJBQThCLEVBQUMsZ0JBQWdCLEVBQUMsd0JBQXdCLEVBQUMsZ0JBQWdCLEVBQUMsVUFBVSxFQUFDLENBQUMsQ0FBQztRQUV6UCxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxFQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxjQUFjLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBQyxXQUFXLEVBQUUsOEJBQThCLEVBQUMsZ0JBQWdCLEVBQUMsd0JBQXdCLEVBQUMsZ0JBQWdCLEVBQUMsVUFBVSxFQUFDLENBQUMsQ0FBQztRQUN6UCxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxFQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFdBQVcsRUFBRSxjQUFjLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBQyxXQUFXLEVBQUUsOEJBQThCLEVBQUMsZ0JBQWdCLEVBQUMsd0JBQXdCLEVBQUMsZ0JBQWdCLEVBQUMsVUFBVSxFQUFDLENBQUMsQ0FBQztRQUNqUSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxFQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxjQUFjLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBQyxXQUFXLEVBQUUsOEJBQThCLEVBQUMsZ0JBQWdCLEVBQUMsd0JBQXdCLEVBQUMsZ0JBQWdCLEVBQUMsVUFBVSxF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b0RBQW9CLEdBQXBCLFVBQXFCLEdBQUc7UUFDdEIsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzNCLElBQUksQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxnREFBZ0IsR0FBaEIsVUFBaUIsR0FBRztRQUNsQixJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDM0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUExSUQ7UUFBQyxnQkFBUyxDQUFDLFVBQVUsQ0FBQzs7MkRBQUE7SUFDdEI7UUFBQyxnQkFBUyxDQUFDLGNBQWMsQ0FBQzs7K0RBQUE7SUFYNUI7UUFBQyxnQkFBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLGVBQWU7WUFDekIsV0FBVyxFQUFFLG9EQUFvRDtZQUNqRSxTQUFTLEVBQUUsRUFBRTtZQUNiLFVBQVUsRUFBRSxDQUFDLHdCQUFlLEVBQUUsd0JBQWUsRUFBQyxnQ0FBYyxFQUFDLG9DQUFnQixFQUFDLDRCQUFZLEVBQUMsa0NBQWUsRUFBQyxvREFBd0IsRUFBQywyQ0FBbUIsRUFBQyx5REFBMEIsRUFBQywrQ0FBcUIsQ0FBQztTQUMxTSxDQUFDOzs2QkFBQTtJQWlKRiw0QkFBQztBQUFELENBOUlBLEFBOElDLElBQUE7QUE5SVksNkJBQXFCLHdCQThJakMsQ0FBQSIsImZpbGUiOiJjb21wYW5pZXMvY29tcG9uZW50cy9jbGluaWNkZXRhaWwuY29tcG9uZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDb21wb25lbnQsT25Jbml0LFZpZXdDaGlsZH0gZnJvbSAnYW5ndWxhcjIvY29yZSc7XG5pbXBvcnQge0NPUkVfRElSRUNUSVZFUywgRk9STV9ESVJFQ1RJVkVTLE5nQ2xhc3MsTmdGb3JtLEZvcm1CdWlsZGVyfSBmcm9tICdhbmd1bGFyMi9jb21tb24nO1xuaW1wb3J0IHtDb250cm9sLCBWYWxpZGF0b3JzLCBOZ0Zvcm1Nb2RlbCwgQ29udHJvbEdyb3VwfSAgZnJvbSAnYW5ndWxhcjIvY29tbW9uJztcbmltcG9ydCB7Um91dGVDb25maWd9IGZyb20gJ2FuZ3VsYXIyL3JvdXRlcic7XG5cbmltcG9ydCB7Q29tcGFuaWVzU2VydmljZX0gZnJvbSAnLi4vc2VydmljZXMvY29tcGFuaWVzLnNlcnZpY2VzJ1xuaW1wb3J0IHtNeUxvZ2dlcn0gIGZyb20gJy4uLy4uL3NoYXJlZC9zZXJ2aWNlcy9sb2dnaW5nLnNlcnZpY2UnO1xuaW1wb3J0IHtJbnB1dENvbXBvbmVudH0gIGZyb20gJy4uLy4uL3NoYXJlZC9jb21wb25lbnRzL2lucHV0L2lucHV0LmNvbXBvbmVudCc7XG5pbXBvcnQge0NsaW5pY30gZnJvbSAnLi4vbW9kZWxzL2NsaW5pYy5tb2RlbCc7XG5pbXBvcnQge0FkZHJlc3NDb21wb25lbnR9IGZyb20gJy4uLy4uL3NoYXJlZC9jb21wb25lbnRzL2FkZHJlc3MvYWRkcmVzcy5jb21wb25lbnQnO1xuaW1wb3J0IHtUYWJDb21wb25lbnR9IGZyb20gJy4uLy4uL3NoYXJlZC9jb21wb25lbnRzL3RhYi90YWIuY29tcG9uZW50JztcbmltcG9ydCB7VGFic2V0Q29tcG9uZW50fSBmcm9tICcuLi8uLi9zaGFyZWQvY29tcG9uZW50cy90YWIvdGFic2V0LmNvbXBvbmVudCc7XG5pbXBvcnQge0Jvb2tpbmdUeXBlTGlzdENvbXBvbmVudH0gZnJvbSAnLi9ib29raW5ndHlwZWxpc3QuY29tcG9uZW50JztcbmltcG9ydCB7RG9jdG9yTGlzdENvbXBvbmVudH0gZnJvbSAnLi9kb2N0b3JsaXN0Mi5jb21wb25lbnQnO1xuaW1wb3J0IHtTZWxlY3RCb29raW5nVHlwZUNvbXBvbmVudH0gZnJvbSAnLi9zZWxlY3Rib29raW5ndHlwZXMuY29tcG9uZW50JztcbmltcG9ydCB7U2VsZWN0RG9jdG9yQ29tcG9uZW50fSBmcm9tICcuL3NlbGVjdGRvY3RvcnMuY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnY2xpbmljLWRldGFpbCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9jb21wYW5pZXMvY29tcG9uZW50cy9jbGluaWNkZXRhaWwuY29tcG9uZW50Lmh0bWwnLFxuICBwcm92aWRlcnM6IFtdLFxuICBkaXJlY3RpdmVzOiBbRk9STV9ESVJFQ1RJVkVTLCBDT1JFX0RJUkVDVElWRVMsSW5wdXRDb21wb25lbnQsQWRkcmVzc0NvbXBvbmVudCxUYWJDb21wb25lbnQsVGFic2V0Q29tcG9uZW50LEJvb2tpbmdUeXBlTGlzdENvbXBvbmVudCxEb2N0b3JMaXN0Q29tcG9uZW50LFNlbGVjdEJvb2tpbmdUeXBlQ29tcG9uZW50LFNlbGVjdERvY3RvckNvbXBvbmVudF1cbn0pXG5cblxuZXhwb3J0IGNsYXNzIENsaW5pY0RldGFpbENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdHtcbiAgXG4gIEBWaWV3Q2hpbGQoJ2J0RGlhbG9nJylidERpYWxvZzogU2VsZWN0Qm9va2luZ1R5cGVDb21wb25lbnQ7XG4gIEBWaWV3Q2hpbGQoJ2RvY3RvckRpYWxvZycpZG9jdG9yRGlhbG9nOiBTZWxlY3REb2N0b3JDb21wb25lbnQ7XG5cbiAgcHVibGljIGNsaW5pYyA6IENsaW5pYztcbiAgcHVibGljIGlzU3VibWl0dGVkIDogYm9vbGVhbiA9IGZhbHNlO1xuICBwdWJsaWMgY29tcG9uZW50czogQXJyYXk8T2JqZWN0PiA9IG5ldyBBcnJheTxPYmplY3Q+KCk7XG4gIHB1YmxpYyBteUZvcm06IENvbnRyb2xHcm91cDtcblxuICBwcml2YXRlIGNsaW5pY05hbWVDb250cm9sOkNvbnRyb2w7ICAgXG4gIHByaXZhdGUgYWRkcmVzc0NvbnRyb2w6Q29udHJvbDtcbiAgcHJpdmF0ZSB3YXJkQ29udHJvbDpDb250cm9sO1xuICBwcml2YXRlIHN1YnVyYkRpc3RyaWN0Q29udHJvbDpDb250cm9sO1xuICBwcml2YXRlIHN0YXRlUHJvdmluY2VDb250cm9sOkNvbnRyb2w7XG4gIHByaXZhdGUgY291bnRyeUNvbnRyb2w6Q29udHJvbDtcbiAgcHJpdmF0ZSBkZXNjcmlwdGlvbkNvbnRyb2w6Q29udHJvbDtcbiAgcHJpdmF0ZSBpc2VuYWJsZUNvbnRyb2w6Q29udHJvbDtcbiAgcHJpdmF0ZSBpc2Jvb2thYmxlQ29udHJvbDpDb250cm9sO1xuICBwcml2YXRlIGlzdGVsZWhlYWx0aENvbnRyb2w6Q29udHJvbDtcbiAgcHJpdmF0ZSBpc2NhbGVuZGFyQ29udHJvbDpDb250cm9sO1xuXG4gIHByaXZhdGUgYWRkcmVzc09iamVjdDogT2JqZWN0ID0ge307XG5cbiAgcHJpdmF0ZSB3YXJkczpzdHJpbmdbXSA9IFsnMScsJzInLCczJywnNCcsJ2FiYyddOyBcblxuICBjb25zdHJ1Y3RvcihcbiAgICAgICAgICAgIHByaXZhdGUgX2NvbXBhbmllc1NlcnZpY2U6IENvbXBhbmllc1NlcnZpY2UsXG4gICAgICAgICAgICBwcml2YXRlIF9sb2c6IE15TG9nZ2VyLFxuICAgICAgICAgICAgcHJpdmF0ZSBfZmI6IEZvcm1CdWlsZGVyXG4gICAgICAgICAgICApe1xuXG4gICAgdGhpcy5jbGluaWNOYW1lQ29udHJvbCA9IG5ldyBDb250cm9sKFwiXCIsIFZhbGlkYXRvcnMucmVxdWlyZWQgKTtcbiAgICB0aGlzLmFkZHJlc3NDb250cm9sID0gbmV3IENvbnRyb2woXCJcIiwgVmFsaWRhdG9ycy5yZXF1aXJlZCApO1xuICAgIHRoaXMud2FyZENvbnRyb2wgPSBuZXcgQ29udHJvbChcIlwiLCBWYWxpZGF0b3JzLnJlcXVpcmVkICk7XG4gICAgdGhpcy5zdWJ1cmJEaXN0cmljdENvbnRyb2wgPSBuZXcgQ29udHJvbChcIlwiLCBWYWxpZGF0b3JzLnJlcXVpcmVkICk7XG4gICAgdGhpcy5zdGF0ZVByb3ZpbmNlQ29udHJvbCA9IG5ldyBDb250cm9sKFwiXCIsIFZhbGlkYXRvcnMucmVxdWlyZWQgKTtcbiAgICB0aGlzLmNvdW50cnlDb250cm9sID0gbmV3IENvbnRyb2woXCJcIiwgVmFsaWRhdG9ycy5yZXF1aXJlZCApO1xuICAgIHRoaXMuZGVzY3JpcHRpb25Db250cm9sID0gbmV3IENvbnRyb2woXCJcIik7XG4gICAgdGhpcy5pc2VuYWJsZUNvbnRyb2wgPSBuZXcgQ29udHJvbChcIlwiKTtcbiAgICB0aGlzLmlzYm9va2FibGVDb250cm9sID0gbmV3IENvbnRyb2woXCJcIik7XG4gICAgdGhpcy5pc3RlbGVoZWFsdGhDb250cm9sID0gbmV3IENvbnRyb2woXCJcIik7XG4gICAgdGhpcy5pc2NhbGVuZGFyQ29udHJvbCA9IG5ldyBDb250cm9sKFwiXCIpO1xuXG4gICAgdGhpcy5jb21wb25lbnRzLnB1c2goe2NvbnRyb2w6IHRoaXMuY2xpbmljTmFtZUNvbnRyb2wsIHR5cGU6J3RleHQnLHRpdGxlOiAnQ2xpbmljIE5hbWUnLCBwbGFjZWhvbGRlcjogJ0NsaW5pYyBOYW1lJywgaXNSZXF1aXJlZDogdHJ1ZSxyZXF1aXJlZE1zZzogJ0NsaW5pYyBuYW1lIGlzIHJlcXVpcmVkJyxsYWJlbENvbHVtbkNsYXNzOidjb2wtbWQtMyBjb250cm9sLWxhYmVsJyxpbnB1dENvbHVtbkNsYXNzOidjb2wtbWQtOSd9KTtcbiAgICBcbiAgICB0aGlzLmNvbXBvbmVudHMucHVzaCh7Y29udHJvbDogdGhpcy5pc2VuYWJsZUNvbnRyb2wsIHR5cGU6J2Jvb2xlYW4nLCB0aXRsZTogJ0VuYWJsZScsIHBsYWNlaG9sZGVyOiAnQ29tcGFueSBOYW1lJywgaXNSZXF1aXJlZDogZmFsc2UscmVxdWlyZWRNc2c6ICdDb21wYW55IG5hbWUgaXMgcmVxdWlyZWQgISEhJyxsYWJlbENvbHVtbkNsYXNzOidjb2wtbWQtMyBjb250cm9sLWxhYmVsJyxpbnB1dENvbHVtbkNsYXNzOidjb2wtbWQtOSd9KTsgICAgXG5cbiAgICB0aGlzLmNvbXBvbmVudHMucHVzaCh7Y29udHJvbDogdGhpcy5pc2Jvb2thYmxlQ29udHJvbCwgdHlwZTonYm9vbGVhbicsIHRpdGxlOiAnQm9vaycsIHBsYWNlaG9sZGVyOiAnQ29tcGFueSBOYW1lJywgaXNSZXF1aXJlZDogZmFsc2UscmVxdWlyZWRNc2c6ICdDb21wYW55IG5hbWUgaXMgcmVxdWlyZWQgISEhJyxsYWJlbENvbHVtbkNsYXNzOidjb2wtbWQtMyBjb250cm9sLWxhYmVsJyxpbnB1dENvbHVtbkNsYXNzOidjb2wtbWQtOSd9KTsgICAgXG4gICAgdGhpcy5jb21wb25lbnRzLnB1c2goe2NvbnRyb2w6IHRoaXMuaXN0ZWxlaGVhbHRoQ29udHJvbCwgdHlwZTonYm9vbGVhbicsIHRpdGxlOiAnVGVsZWhlYWx0aCcsIHBsYWNlaG9sZGVyOiAnQ29tcGFueSBOYW1lJywgaXNSZXF1aXJlZDogZmFsc2UscmVxdWlyZWRNc2c6ICdDb21wYW55IG5hbWUgaXMgcmVxdWlyZWQgISEhJyxsYWJlbENvbHVtbkNsYXNzOidjb2wtbWQtMyBjb250cm9sLWxhYmVsJyxpbnB1dENvbHVtbkNsYXNzOidjb2wtbWQtOSd9KTsgICAgXG4gICAgdGhpcy5jb21wb25lbnRzLnB1c2goe2NvbnRyb2w6IHRoaXMuaXNjYWxlbmRhckNvbnRyb2wsIHR5cGU6J2Jvb2xlYW4nLCB0aXRsZTogJ0NhbGVuZGFyJywgcGxhY2Vob2xkZXI6ICdDb21wYW55IE5hbWUnLCBpc1JlcXVpcmVkOiBmYWxzZSxyZXF1aXJlZE1zZzogJ0NvbXBhbnkgbmFtZSBpcyByZXF1aXJlZCAhISEnLGxhYmVsQ29sdW1uQ2xhc3M6J2NvbC1tZC0zIGNvbnRyb2wtbGFiZWwnLGlucHV0Q29sdW1uQ2xhc3M6J2NvbC1tZC05J30pOyAgICBcblxuICAgIHRoaXMubXlGb3JtID0gbmV3IENvbnRyb2xHcm91cCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGluaWNOYW1lOiB0aGlzLmNsaW5pY05hbWVDb250cm9sLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogdGhpcy5hZGRyZXNzQ29udHJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhcmQ6IHRoaXMud2FyZENvbnRyb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ1cmJEaXN0cmljdDogdGhpcy5zdWJ1cmJEaXN0cmljdENvbnRyb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZVByb3ZpbmNlOiB0aGlzLnN0YXRlUHJvdmluY2VDb250cm9sLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRyeTogdGhpcy5jb3VudHJ5Q29udHJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uQ29udHJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzZW5hYmxlOiB0aGlzLmlzZW5hYmxlQ29udHJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzYm9va2FibGU6IHRoaXMuaXNib29rYWJsZUNvbnRyb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc3RlbGVoZWFsdGg6IHRoaXMuaXN0ZWxlaGVhbHRoQ29udHJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzY2FsZW5kYXI6IHRoaXMuaXNjYWxlbmRhckNvbnRyb2wsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgfVxuXG4gIG5nT25Jbml0KCl7XG5cbiAgICB0aGlzLnNldENsaW5pY0RhdGEoKTtcblxuXG4gICAgdGhpcy5teUZvcm0udmFsdWVDaGFuZ2VzXG4gICAgICAgIC5zdWJzY3JpYmUoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgIHRoaXMuX2xvZy5sb2coXCJNb2RlbCBEcml2ZW4gRm9ybSA6IFwiICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgICAgICAgfSk7XG4gICAgLypcbiAgICB0aGlzLmZvcm0udmFsdWVDaGFuZ2VzXG4gICAgICAgIC5tYXAoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB2YWx1ZS5maXJzdE5hbWUgPSB2YWx1ZS5maXJzdE5hbWUudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbHRlcigodmFsdWUpID0+IHRoaXMuZm9ybS52YWxpZClcbiAgICAgICAgLnN1YnNjcmliZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgYWxlcnQoXCJNb2RlbCBEcml2ZW4gRm9ybSB2YWxpZCB2YWx1ZTogdm0gPSBcIiArICAgICAgICAgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgICAgICAgfSk7XG4gICAgKi8gICAgXG4gIH1cblxuICBhZGRyZXNzQ29udHJvbEdyb3VwKGFkZHJlc3NDb250cm9sR3JvdXA6IENvbnRyb2xHcm91cCl7ICAgIFxuICAgIC8vdGhpcy5wZXJzb24gPSBwZXJzb25Db250cm9sR3JvdXA7XG4gICAgXG4gICAgdGhpcy5teUZvcm0uYWRkQ29udHJvbCgnYWRkcmVzc0dyb3VwJyx0aGlzLl9mYi5ncm91cChhZGRyZXNzQ29udHJvbEdyb3VwLmNvbnRyb2xzKSk7XG4gICAgLy90aGlzLl9sb2cubG9nKFwicGVvcGxlIGRldGFpbCBjb250cm9sIGdyb3VwID1cIix0aGlzLm15Rm9ybSk7XG4gIH1cblxuICBwcml2YXRlIHNldENsaW5pY0RhdGEoKXtcbiAgICB0aGlzLmNsaW5pYyA9IHRoaXMuX2NvbXBhbmllc1NlcnZpY2UuZ2V0Q3VycmVudENsaW5pYygpOyAgICBcbiAgICB0aGlzLl9sb2cubG9nKFwiR2V0IGRhdGEgZnJvbSBjbGluaWMgXCIsdGhpcy5jbGluaWMpO1xuXG4gICAgaWYodGhpcy5jbGluaWMpe1xuICAgICAgdGhpcy5jbGluaWNOYW1lQ29udHJvbC51cGRhdGVWYWx1ZSh0aGlzLmNsaW5pYy5jbGluaWNOYW1lKTtcbiAgICAgIHRoaXMuYWRkcmVzc0NvbnRyb2wudXBkYXRlVmFsdWUodGhpcy5jbGluaWMuYWRkcmVzcyk7XG4gICAgICB0aGlzLndhcmRDb250cm9sLnVwZGF0ZVZhbHVlKHRoaXMuY2xpbmljLndhcmQpO1xuICAgICAgdGhpcy5zdWJ1cmJEaXN0cmljdENvbnRyb2wudXBkYXRlVmFsdWUodGhpcy5jbGluaWMuc3VidXJiRGlzdHJpY3QpO1xuICAgICAgdGhpcy5zdGF0ZVByb3ZpbmNlQ29udHJvbC51cGRhdGVWYWx1ZSh0aGlzLmNsaW5pYy5zdGF0ZVByb3ZpbmNlKTtcbiAgICAgIHRoaXMuY291bnRyeUNvbnRyb2wudXBkYXRlVmFsdWUodGhpcy5jbGluaWMuY291bnRyeSk7ICAgXG4gICAgICB0aGlzLmlzZW5hYmxlQ29udHJvbC51cGRhdGVWYWx1ZSh0aGlzLmNsaW5pYy5pc2VuYWJsZSk7XG4gICAgICB0aGlzLmlzYm9va2FibGVDb250cm9sLnVwZGF0ZVZhbHVlKHRoaXMuY2xpbmljLmlzYm9va2FibGUpO1xuICAgICAgdGhpcy5pc3RlbGVoZWFsdGhDb250cm9sLnVwZGF0ZVZhbHVlKHRoaXMuY2xpbmljLmlzdGVsZWhlYWx0aCk7XG4gICAgICB0aGlzLmlzY2FsZW5kYXJDb250cm9sLnVwZGF0ZVZhbHVlKHRoaXMuY2xpbmljLmlzY2FsZW5kYXIpOyAgICAgIFxuXG4gICAgICB0aGlzLmFkZHJlc3NPYmplY3QuYWRkcmVzcyA9IHRoaXMuY2xpbmljLmFkZHJlc3M7XG4gICAgICB0aGlzLmFkZHJlc3NPYmplY3Qud2FyZCA9IHRoaXMuY2xpbmljLndhcmQ7XG4gICAgICB0aGlzLmFkZHJlc3NPYmplY3Quc3VidXJiRGlzdHJpY3QgPSB0aGlzLmNsaW5pYy5zdWJ1cmJEaXN0cmljdDtcbiAgICAgIHRoaXMuYWRkcmVzc09iamVjdC5zdGF0ZVByb3ZpbmNlID0gdGhpcy5jbGluaWMuc3RhdGVQcm92aW5jZTtcbiAgICAgIHRoaXMuYWRkcmVzc09iamVjdC5wb3N0Y29kZSA9IHRoaXMuY2xpbmljLnBvc3Rjb2RlO1xuICAgICAgdGhpcy5hZGRyZXNzT2JqZWN0LmNvdW50cnkgPSB0aGlzLmNsaW5pYy5jb3VudHJ5O1xuICAgIH1cbiAgfVxuXG4gIHN1Ym1pdCgpe1xuICAgIHRoaXMuaXNTdWJtaXR0ZWQgPSB0cnVlO1xuICAgIHRoaXMud2FyZHMucHVzaCgnQWRkZWQgbW9yZScpO1xuICAgIGNvbnNvbGUubG9nKCdzdWJtaXRpbmcuLi4nLHRoaXMubXlGb3JtKTtcbiAgICB0aGlzLl9jb21wYW5pZXNTZXJ2aWNlLnNhdmVDbGluaWModGhpcy5teUZvcm0udmFsdWUpLnN1YnNjcmliZShcbiAgICAgICAgZGF0YSA9PiB7dGhpcy5fbG9nLmxvZyhcImZvcm1cIixkYXRhKTsgdGhpcy5zZXRDbGluaWNEYXRhKCk7IH0sXG4gICAgICAgIGVyciA9PiB7dGhpcy5fbG9nLmxvZyhlcnIpO30sXG4gICAgICAgICgpID0+IHt0aGlzLl9sb2cubG9nKCdjcmVhdGVkICEnKTt9XG4gICAgICAgICk7XG4gIH1cblxuICBmaXJlQ2xpbmljUm93Q2xpY2tlZChyb3cpe1xuICAgIHRoaXMuX2xvZy5sb2coJ3JvdyA9ICcscm93KVxuICAgIHRoaXMuZG9jdG9yRGlhbG9nLm9wZW5EaWFsb2cocm93KTtcbiAgfVxuXG4gIGZpcmVCVFJvd0NsaWNrZWQocm93KXtcbiAgICB0aGlzLl9sb2cubG9nKCdyb3cgPSAnLHJvdylcbiAgICB0aGlzLmJ0RGlhbG9nLm9wZW5EaWFsb2cocm93LCdDTElOSUMnKTtcbiAgfVxuXG59XG4iXX0=
